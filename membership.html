<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <title>FitFactory | Membership</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(to right, #e0c3fc, #8ec5fc);
      min-height: 100vh;
      color: #333;
    }
    header {
      text-align: center;
      font-size: 32px;
      font-weight: bold;
      padding: 20px 0;
      color: #fff;
      background: #6a1b9a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    h1 {
      text-align: center;
      margin-top: 30px;
      font-size: 28px;
      color: #444;
    }
    .plans-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
      padding: 40px 20px;
    }
    .plan-box {
      background: #fff;
      width: 280px;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s;
      text-align: center;
    }
    .plan-box:hover {
      transform: translateY(-8px);
    }
    .plan-title {
      font-size: 22px;
      font-weight: bold;
      color: #6a1b9a;
    }
    .plan-price {
      font-size: 20px;
      margin: 10px 0 20px;
    }
    .join-btn {
      background-color: #6a1b9a;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
    }

    /* Modal Styling */
    .modal-bg {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal {
      background: white;
      padding: 30px;
      border-radius: 12px;
      width: 400px;
      position: relative;
    }
    .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      background: none;
      border: none;
      font-size: 22px;
      cursor: pointer;
    }
    form label {
      margin-top: 10px;
      display: block;
    }
    form input, form select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .pay-btn {
      margin-top: 15px;
      background: #6a1b9a;
      color: white;
      padding: 12px;
      border: none;
      width: 100%;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
    }
    .method-details {
      display: none;
    }
    @media (max-width: 768px) {
      .plans-container {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>

  <header>FitFactory</header>
  <h1>Choose Your Membership Plan</h1>

  <div class="plans-container">
    <div class="plan-box" data-plan="Monthly Plan" data-price="999">
      <div class="plan-title">Monthly Plan</div>
      <div class="plan-price">₹999</div>
      <button class="join-btn">Join Now</button>
    </div>
    <div class="plan-box" data-plan="Semi-Annual Plan" data-price="5499">
      <div class="plan-title">Semi-Annual Plan</div>
      <div class="plan-price">₹5,499</div>
      <button class="join-btn">Join Now</button>
    </div>
    <div class="plan-box" data-plan="Annual Plan" data-price="9999">
      <div class="plan-title">Annual Plan</div>
      <div class="plan-price">₹9,999</div>
      <button class="join-btn">Join Now</button>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal-bg" id="modal-bg">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="close-btn" id="closeModal">&times;</button>
      <h2 id="modalTitle">Payment for </h2>
      <form id="paymentForm">
        <label for="name">Full Name *</label>
        <input type="text" id="name" required />
        <label for="email">Email Address *</label>
        <input type="email" id="email" required />
        <label for="phone">Phone Number *</label>
        <input type="tel" id="phone" pattern="[0-9]{10}" maxlength="10" required />
        <label for="payment-method">Payment Method *</label>
        <select id="payment-method" required>
          <option value="" disabled selected>Select a payment method</option>
          <option value="debit-card">Debit Card</option>
          <option value="credit-card">Credit Card</option>
          <option value="upi">UPI</option>
          <option value="gpay">GPay</option>
          <option value="phonepe">PhonePe</option>
          <option value="paytm">Paytm</option>
        </select>
        <div class="method-details" id="card-details">
          <label>Card Number *</label><input type="text" id="card-number" maxlength="16" />
          <label>Expiry *</label><input type="month" id="expiry" />
          <label>CVV *</label><input type="text" id="cvv" maxlength="3" />
        </div>
        <div class="method-details" id="upi-details">
          <label>UPI ID *</label><input type="text" id="upi-id" />
        </div>
        <button type="submit" class="pay-btn">Pay ₹<span id="payAmount"></span></button>
      </form>
    </div>
  </div>

  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script>
    const modalBg = document.getElementById('modal-bg');
    const closeModalBtn = document.getElementById('closeModal');
    const modalTitle = document.getElementById('modalTitle');
    const payAmountSpan = document.getElementById('payAmount');
    const paymentForm = document.getElementById('paymentForm');
    const methodSelect = document.getElementById('payment-method');

    let selectedPlan = "", selectedPrice = 0;

    document.querySelectorAll('.join-btn').forEach(btn => {
      btn.addEventListener('click', e => {
        const box = e.target.closest('.plan-box');
        selectedPlan = box.dataset.plan;
        selectedPrice = box.dataset.price;
        modalTitle.textContent = `Payment for ${selectedPlan}`;
        payAmountSpan.textContent = selectedPrice;
        paymentForm.reset();
        showPaymentDetails();
        modalBg.style.display = 'flex';
      });
    });

    closeModalBtn.onclick = () => modalBg.style.display = 'none';
    window.onclick = e => { if (e.target === modalBg) modalBg.style.display = 'none'; };
    methodSelect.addEventListener('change', showPaymentDetails);

    function showPaymentDetails() {
      const method = methodSelect.value;
      document.getElementById('card-details').style.display =
        (method === 'debit-card' || method === 'credit-card') ? 'block' : 'none';
      document.getElementById('upi-details').style.display =
        ['upi', 'gpay', 'phonepe', 'paytm'].includes(method) ? 'block' : 'none';
    }

    paymentForm.addEventListener('submit', e => {
      e.preventDefault();
      const name = paymentForm.name.value.trim();
      const email = paymentForm.email.value.trim();
      const phone = paymentForm.phone.value.trim();
      const method = methodSelect.value;
      if (!name || !email || !phone || !method) return alert('Please fill all required fields!');
      if ((method === 'debit-card' || method === 'credit-card') &&
         (!paymentForm['card-number'].value || !paymentForm['expiry'].value || !paymentForm['cvv'].value)) return alert('Enter full card details');
      if (['upi','gpay','phonepe','paytm'].includes(method) && !paymentForm['upi-id'].value) return alert('Enter UPI ID');

      const options = {
        key: "YOUR_RAZORPAY_KEY_ID", // Replace this
        amount: selectedPrice * 100,
        currency: "INR",
        name: "FitFactory",
        description: selectedPlan,
        handler: function (response) {
          alert("✅ Payment Successful! ID: " + response.razorpay_payment_id);
          modalBg.style.display = 'none';
        },
        prefill: { name, email, contact: phone },
        theme: { color: "#6a1b9a" }
      };
      new Razorpay(options).open();
    });
  </script>
</body>
</html>
